angular.module("material.timepicker",[]).directive("materialTimepicker",["$timeout",function(a){return{restrict:"E",replace:!0,scope:{model:"=",err:"=?"},templateUrl:"template/template.html",link:function(b,c,d){b.state=!1,b.state=!0,b.init=moment(b.model),b.timePreview={hh:b.init.format("HH"),mm:b.init.minute(5*Math.ceil(b.init.minute()/5)).format("mm")},b.display={hh:b.timePreview.hh,mm:b.timePreview.mm},b.show={hours:!0,minutes:!1,explode:!1,explode_min:!1},b.goHours=function(){b.show.hours=!0,b.show.explode=!1,b.show.explode_min=!0,a(function(){b.show.minutes=!1},330)},b.setHour=function(c){b.model=moment(b.model).hour(c).toDate(),a(b.goMinutes,50)},b.goMinutes=function(){b.show.minutes=!0,b.show.explode_min=!1,b.show.explode=!0,a(function(){b.show.hours=!1},330)},b.setMinutes=function(a){b.model=moment(b.model).minute(a).toDate()},b.$watch("model",function(a){var c;c=a?moment(a):moment(),c=c.minute(5*Math.ceil(c.minute()/5)),b.minute=c.minute(),b.hour=c.hour(),b.timePreview={hh:c.format("HH"),mm:c.format("mm")}}),b.setState=function(a){b.state=a,b.goHours()},b.toggleState=function(){b.state=!b.state},b.ok=function(){b.updateDisplay(),b.setState(!1)},b.cancel=function(){b.timePreview={hh:b.display.hh,mm:b.display.mm},b.model=moment(b.init),b.setState(!1)},b.updateDisplay=function(){b.display={hh:b.timePreview.hh,mm:b.timePreview.mm}}}}}]);